---
layout:     post
title:      软件构造Blog9
subtitle:   关于编码的一些问题和Lab5的实验总结
date:       2018-06-09
author:     ZMY
header-img: img/bg-sky.jpg
catalog: true
tags:
    - Software Construction
---

# 软件构造Blog-9 关于编码的一些问题和Lab5的实验总结
---
## 有关编码
在Lab5开始的上个星期，尝试读出实验中由TA给出的测试文件，发现了一种非常奇怪的现象。就是我不论读Lab5中任意一个(从file1到file8)都是，从读第一行开始就有错误。而且啥都读不出来就直接抛出语法不符合的异常。开始我认为是自己的正则表达式写炸了，然后又重新写了一下(问了一下老师，合理的空格出现是合法输入的情况)。

调整完之后，还是在第一行抛出语法文件的问题。分部调试了一下，发现在读入文件的时候，第一行的数据非常奇怪，比如`GraphType`9个字符的字符串，却在`a[1] = 'G'`，后来就发现，在最开始的位置有一个奇怪的占位符，有着这么一个奇怪的`EF BB BF`

上网查了一下，发现是一种叫做`utf-8 BOM`的奇怪编码格式。跟老师反映了一下，TA改完效果不明显，大部分文件还是读不出来。查看了一下十六进制，发现还是有。手动删除后，问题解决。

关于`utf-8 BOM`这个问题，在很多的blog都有这么一句话
> UTF-8以字节为编码单元因此不需要BOM来表明字节顺序，但是可以用BOM来表明编码方式。

也就是说这个编码头是可有可无的，但是对于很多同学(包括我)都是直接使用按照utf-8这种编码格式读取文件(由于findbugs对于不限制平台编码格式而言是一种潜在bug的存在)，所以这样会导致读取的错误。

## 关于Lab5实验总结

这个实验总结写的比较晚，但是还是想说明一下自己的一些看法。
对于Lab5，个人感觉这个实验相对来说锻炼人的地方就是`IO`的问题。相比Lab3和Lab4的实验量来说，都是比较适合于在接近六月份去完成的。其中涉及到了大量工具的使用，对于其中的一些工具比如`findbugss`, `checkStyle`，可能在Lab3左右就提出这样的问题，更有利于提高代码的可理解性。
